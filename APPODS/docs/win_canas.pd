import tkinter as tk
from tkinter import ttk
from matplotlib.backends.backend_tkagg import FigureCanvasTkAgg
import matplotlib.pyplot as plt


def open_win_canvas(parent: tk.Tk):
    win = tk.Toplevel(parent)
    win.title("Reporte gráfico de gastos")
    win.geometry("1920x1080")

    frm = ttk.Frame(win, padding=12)
    frm.pack(fill="both", expand=True)

  
    categorias = ["Comida", "Renta", "Gustos", "Transporte", "Servicios"]
    valores = [2500, 5000, 1500, 1200, 800]

    
    fig, ax = plt.subplots(figsize=(6, 4))
    ax.bar(categorias, valores, color=["#FF9999", "#66B2FF", "#99FF99", "#FFD966", "#C266FF"])
    ax.set_title("Reporte de Gastos", fontsize=14, fontweight="bold")
    ax.set_ylabel("Cantidad ($)")
    ax.set_xlabel("Categorías")

 
    canvas = FigureCanvasTkAgg(fig, master=frm)
    canvas.draw()
    canvas.get_tk_widget().pack(fill="both", expand=True)

    
    ttk.Button(frm, text="Cerrar", command=win.destroy).pack(pady=8, anchor="e")



if __name__ == "__main__":
    root = tk.Tk()
    root.withdraw()  
    open_win_canvas(root)
    root.mainloop()
